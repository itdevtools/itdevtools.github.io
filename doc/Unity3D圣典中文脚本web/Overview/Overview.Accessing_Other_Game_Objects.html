<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; " />
<title>Overview: Accessing Other Components  概述：访问其他游戏物体</title>
<meta name="keywords" content="unity,游戏对象,组件,collider" />
<meta name="description" content="多数高级的游戏编码,都不是仅能控制单一的游戏对象. Unity脚本的接口,有很多方法去获得和访问其中的游戏对象和组件.下面我们假设一个脚本OtherScript.js附于场景中的一个游戏对象." />
<link href="../Style/CSS/UnityStyle.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="../Style/SJ/jquery.min.js"></script>
<script type="text/javascript" src="../Style/SJ/tabs.min.js"></script>
  <script type="text/javascript">
$(function() {
	$("ul.tabs").tabs("> .panes", {initialIndex: 1});
});
</script>


</head>
<body>
<div class="head">
<div class="logo"><a href="/Script"><img src="../Style/Images/unitylogo.png" alt="Unity圣典" width="350" height="80"  title="Unity圣典"/></a></div>
<div class="menu"><a href="/">首页</a><a href="/Script">Unity脚本</a></div>
</div>

<div class="mainbody">    <div class="leftmain">
    	        <ul class="scriptmenu">
          <li><a href="../index.html">Overview</a> <span class="trans">概述</span></li>
            <li><a href="../Runtime.Classes.html">Runtime Classes</a> <span class="trans">实时运行类</span></li>
            <ul>
                <li><a href="../Attributes/Attributes.html">Attributes</a> <span class="trans">属性</span></li>
                <li><a href="../Enumerations/Enumerations.html">Enumerations</a> <span class="trans">枚举</span></li>
            </ul>
            <li><a href="../Editor.Classes.html">Editor Classes</a> <span class="trans">编辑器类</span></li>
            <ul>
                <li><a href="../Editor_Enumerations/Editor.Enumerations.html">Enumerations</a> <span class="trans">枚举</span></li>
            </ul>
            <li>History <span class="trans">历史</span></li>
            <li><a href="../index.Classes.html">Index</a> <span class="trans">总索引</span></li>
        </ul>
<script type="text/javascript"><!--
google_ad_client = "ca-pub-8054246454688368";
/* Unity方 */
google_ad_slot = "5047319569";
google_ad_width = 200;
google_ad_height = 200;
//-->
</script>
<script type="text/javascript"
src="">
</script>
        <div class="subclass"><a href="../index.html">Unity脚本概述</a> <span class="transer">翻译：脚本_树</span>
<ul>
  <li><a title="Common Operations" href="Overview.Common_Operations.html">Common Operations</a></li>
  <li><a title="Keeping Track of Time" href="Overview.Keeping_Track_of_Time.html">Time</a></li>
  <li><a title="Accessing Other Components" href="Overview.Accessing_Other_Components.html">Accessing Components</a></li>
  <li><a title="Accessing Other Game Objects" href="Overview.Accessing_Other_Game_Objects.html">Accessing Objects</a></li>
  <li><a title="Vectors" href="Overview.Vectors.html">Vectors</a></li>
  <li><a title="Member Variables &amp; Global Variables" href="Overview.Member_Variables/Global_Variables.html">Variables</a></li>
  <li><a title="Instantiate" href="Overview.Instantiate.html">Instantiate</a></li>
  <li><a title="Coroutines &amp; Yield" href="Overview.Coroutines/Yield.html">Coroutines &amp; Yield</a></li>
  <li><a title="Writing Scripts in C#" href="Overview.Writing_Scripts_in_C.html">Using C#</a></li>
  <li><a title="The most important classes" href="Overview.The_most_important_classes.html">Important Classes</a></li>
  <li><span title="Performance Optimization"><a href="Overview.Performance_Optimization.html">Performance Optimization</a></span></li>
  <li><a title="Script compilation (Advanced)" href="Overview.Script_compilation.html">Script Compilation</a></li>
</ul>
</div>
    </div>
    <div class="rightmain"><!--right start--><script type="text/javascript"><!--
google_ad_client = "ca-pub-8054246454688368";
/* Unity横 */
google_ad_slot = "2374072180";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="">
</script>
<h1>Overview: Accessing Other Game Objects 访问其他游戏物体</h1>
<p></p>
<p>Most advanced game code does not only manipulate a single object. The Unity scripting interface has various ways to find and access other game objects and components there-in. In the following we assume there is a script named OtherScript.js attached to game objects in the scene. </p>
<p>多数高级的游戏代码并不仅仅控制单独的游戏对象.   Unity脚本有很多方法去查找和访问他们的游戏对象和组件.下面我们假设一个脚本OtherScript.js附于场景中的一个游戏对象上.</p>
<div class="wrap">
    <ul class="tabs">
        <li><a href="#">C#</a></li>
        <li><a href="#">JavaScript</a></li>
    </ul>
    <div class="panes"><pre><code>using UnityEngine;
using System.Collections;

public class example : <a href="../MonoBehaviour/MonoBehaviour.html">MonoBehaviour</a> {
    void Update() {
        otherScript = GetComponent&lt;OtherScript&gt;();
        otherScript.DoSomething();
    }
}</code></pre></div>
    <div class="panes"><pre><code>function Update () {
    otherScript = GetComponent(OtherScript);
    otherScript.DoSomething();
}</code></pre></div>
</div>
<p><em>1. Through inspector assignable   references. </em><br />
通过检视面板指定参数.</p>
<p>You can assign variables to any object type   through the inspector: </p>
<p>你能通过检视面板为一些对象类型设置变量值:</p>
<div class="wrap">
    <ul class="tabs">
        <li><a href="#">C#</a></li>
        <li><a href="#">JavaScript</a></li>
    </ul>
    <div class="panes"><pre><code>using UnityEngine;
using System.Collections;

public class example : <a href="../MonoBehaviour/MonoBehaviour.html">MonoBehaviour</a> {
    public <a href="../Transform/Transform.html">Transform</a> target;
    void Update() {
        target.Translate(0, 1, 0);
    }
}</code></pre></div>
    <div class="panes"><pre><code><span class="notes">// Translate the object dragged on the target slot
// 将要转换的对象拖拽到target位置</span>

var target : <a href="../Transform/Transform.html">Transform</a>;
function Update () {
    target.Translate(0, 1, 0);
}</code></pre></div>
</div>
<p>You can also expose references to other objects   to the inspector. Below you can drag a game object that contains the OtherScript   on the target slot in the inspector.</p>
<p>你也可以把参数显示在检视面板.随后你可以拖拽游戏对象OtherScript到检视面板中的target位置.</p>
<div class="wrap">
    <ul class="tabs">
        <li><a href="#">C#</a></li>
        <li><a href="#">JavaScript</a></li>
    </ul>
    <div class="panes"><pre><code>using UnityEngine;
using System.Collections;

public class example : <a href="../MonoBehaviour/MonoBehaviour.html">MonoBehaviour</a> {
    public OtherScript target;
    void Update() {
        target.foo = 2;
        target.DoSomething("Hello");
    }
}</code></pre></div>
    <div class="panes"><pre><code><span class="notes">// Set foo DoSomething on the target variable assigned in the inspector.
// 设置foo DoSomething到target变量指定在检视面板.</span>

var target : OtherScript;

function Update () {
    <span class="notes">// Set foo variable of the target object
    // 设置target 对象的foo变量 </span>

    target.foo = 2;
    <span class="notes">// Call do something on the target
    // 调用target的Dosomething </span>

    target.DoSomething("Hello");
}</code></pre></div>
</div>
<p><em>2. Located through the object   hierarchy. </em><br />
  确定对象的层次关系</p>
<p>You can find child and parent objects to an   existing object through the <a href="../Transform/Transform.html">Transform </a>component of a game object: </p>
<p>你能通过游戏对象的 <a href="../Transform/Transform.html">Transform </a>组件去找到它的子对象或父对象:</p>
<div class="wrap">
    <ul class="tabs">
        <li><a href="#">C#</a></li>
        <li><a href="#">JavaScript</a></li>
    </ul>
    <div class="panes"><pre><code>using UnityEngine;
using System.Collections;

public class example : <a href="../MonoBehaviour/MonoBehaviour.html">MonoBehaviour</a> {
    public void Awake() {
        transform.Find("Hand").Translate(0, 1, 0);
    }
}</code></pre></div>
    <div class="panes"><pre><code><span class="notes">// Find the child "Hand" of the game object
//获得子游戏对象&quot;Hand&quot; 
// we attached the script to
// 我们现在的脚本为</span>

transform.Find(&quot;Hand&quot;).Translate(0, 1, 0);</code></pre></div>
</div>
<p>Once you have found the transform in the   hierarchy, you can use <a href="../Component/Component.GetComponent.html">GetComponent </a>to get to other   scripts.</p>
<p>一旦你在层次视图找到transform,你便能用 <a href="../Component/Component.GetComponent.html">GetComponent </a>获取其他脚本.</p>
<div class="wrap">
    <ul class="tabs">
        <li><a href="#">C#</a></li>
        <li><a href="#">JavaScript</a></li>
    </ul>
    <div class="panes"><pre><code>using UnityEngine;
using System.Collections;

public class example : <a href="../MonoBehaviour/MonoBehaviour.html">MonoBehaviour</a> {
    public void Awake() {
        transform.Find("Hand").GetComponent&lt;OtherScript&gt;().foo = 2;
        transform.Find("Hand").GetComponent&lt;OtherScript&gt;().DoSomething("Hello");
        transform.Find("Hand").rigidbody.AddForce(0, 10, 0);
    }
}</code></pre></div>
    <div class="panes"><pre><code><span class="notes">// Find the child named "Hand".
// On the OtherScript attached to it, set foo to 2.
// 找到子对象 "Hand".
// 获取OtherScript,设置foo为2</span>.
transform.Find("Hand").GetComponent(OtherScript).foo = 2;

<span class="notes">// Find the child named "Hand".
// Call DoSomething on the OtherScript attached to it.
// 获得子对象"Hand".
// 调用附属于它的 OtherScript的DoSomething.</span>
transform.Find("Hand").GetComponent(OtherScript).DoSomething("Hello");

<span class="notes">// Find the child named "Hand".
// Then apply a force to the rigidbody attached to the hand.
//获得子对象"Hand".
// 加一个力到刚体上</span>
transform.Find("Hand").rigidbody.AddForce(0, 10, 0);</code></pre></div>
</div>
<p>You can loop over all children: 你能循环到所有的子对象:</p>
<div class="wrap">
    <ul class="tabs">
        <li><a href="#">C#</a></li>
        <li><a href="#">JavaScript</a></li>
    </ul>
    <div class="panes"><pre><code>using UnityEngine;
using System.Collections;

public class example : <a href="../MonoBehaviour/MonoBehaviour.html">MonoBehaviour</a> {
    public void Awake() {
            foreach (Transform child in transform) {
            child.Translate(0, 10, 0);
        }
    }
}</code></pre></div>
    <div class="panes"><pre><code><span class="notes">// Moves all transform children 10 units upwards!
//向上移动所有的子对象1个单位!</span>

for (var child : <a href="../Transform/Transform.html">Transform</a> in transform) {
    child.Translate(0, 10, 0);
}</code></pre></div>
</div>
<p>See the documentation for the <a href="../Transform/Transform.html">Transform </a>class for further information. </p>
<p>查看文档 <a href="../Transform/Transform.html">Transform </a>类可以获得更多信息.</p>
<p><em>3. Located by name or Tag. </em>  指定名字或标签.</p>
<p>You can search for game objects with certain tags   using <a href="../GameObject/GameObject.FindWithTag.html">GameObject.FindWithTag </a>and <a href="../GameObject/GameObject.FindGameObjectsWithTag.html">GameObject.FindGameObjectsWithTag </a>. Use <a href="../GameObject/GameObject.Find.html">GameObject.Find </a>to find a game object by   name. </p>
<p>你能用确定的标签搜索对象,使用 <a href="../GameObject/GameObject.FindWithTag.html">GameObject.FindWithTag </a>和 <a href="../GameObject/GameObject.FindGameObjectsWithTag.html">GameObject.FindGameObjectsWithTag </a>.使用 <a href="../GameObject/GameObject.Find.html">GameObject.Find </a>通过名字获得游戏对象.</p>
<div class="wrap">
    <ul class="tabs">
        <li><a href="#">C#</a></li>
        <li><a href="#">JavaScript</a></li>
    </ul>
    <div class="panes"><pre><code>using UnityEngine;
using System.Collections;

public class example : <a href="../MonoBehaviour/MonoBehaviour.html">MonoBehaviour</a> {
    void Start() {
        GameObject go = GameObject.Find("SomeGuy");
        go.transform.Translate(0, 1, 0);
        GameObject player = GameObject.FindWithTag("Player");
        player.transform.Translate(0, 1, 0);
    }
}</code></pre></div>
    <div class="panes"><pre><code>function Start () {
    <span class="notes">// By name 通过名字</span>
    var go = GameObject.Find("SomeGuy");
    go.transform.Translate(0, 1, 0);

    <span class="notes">// By tag 通过标签</span>
    var player = GameObject.FindWithTag("Player");
    player.transform.Translate(0, 1, 0);

}</code></pre></div>
</div>

<p>You can use GetComponent on the result to get to   any script or component on the found game object</p>
<p>你可以用GetComponent获得指定游戏对象上的任意脚本或组件.</p>
<div class="wrap">
    <ul class="tabs">
        <li><a href="#">C#</a></li>
        <li><a href="#">JavaScript</a></li>
    </ul>
    <div class="panes"><pre><code>using UnityEngine;
using System.Collections;

public class example : <a href="../MonoBehaviour/MonoBehaviour.html">MonoBehaviour</a> {
    void Start() {
        GameObject go = GameObject.Find("SomeGuy");
        go.GetComponent&lt;OtherScript&gt;().DoSomething();
        GameObject player = GameObject.FindWithTag("Player");
        player.GetComponent&lt;OtherScript&gt;().DoSomething();
    }
}</code></pre></div>
    <div class="panes"><pre><code>function Start () {
    <span class="notes">// By name 通过名字</span>
    var go = GameObject.Find("SomeGuy");
    go.GetComponent(OtherScript).DoSomething();

    <span class="notes">// By tag 通过标签</span>
    var player = GameObject.FindWithTag("Player");
    player.GetComponent(OtherScript).DoSomething();
}</code></pre></div>
</div>
<p>Some special objects like the main camera have   shorts cuts using <a href="../Camera/Camera.main.html">Camera.main </a>. </p>
<p>一些特殊对象,比如主摄像机,用快捷方式 <a href="../Camera/Camera.main.html">Camera.main </a>. </p>
<p><em>4. Passed as parameters. </em><em>传递参数</em></p>
<p>Some event messages contain detailed information   on the event. For instance, trigger events pass the <a href="../Collider/Collider.html">Collider </a>component of the colliding   object to the handler function. </p>
<p>一些事件包含详细的消息信息.例如,触发事件传递碰撞对象的 <a href="../Collider/Collider.html">Collider </a>组件到处理函数.</p>
<p>OnTriggerStay gives us a reference to a collider.   From the collider we can get to its attached rigidbody.</p>
<p>OnTriggerStay给我们一个碰撞体参数.通过这个碰撞体我们能得到它的刚体.</p>
<div class="wrap">
    <ul class="tabs">
        <li><a href="#">C#</a></li>
        <li><a href="#">JavaScript</a></li>
    </ul>
    <div class="panes"><pre><code>using UnityEngine;
using System.Collections;

public class example : <a href="../MonoBehaviour/MonoBehaviour.html">MonoBehaviour</a> {
    void OnTriggerStay(Collider other) {
        if (other.rigidbody)
            other.rigidbody.AddForce(0, 2, 0);

    }
}</code></pre></div>
    <div class="panes"><pre><code>function OnTriggerStay( other : Collider ) {
    <span class="notes">// If the other collider also has a rigidbody
    // apply a force to it!
    // 如果碰撞体有一个刚体
    // 给他一个力!</span>

    if (other.rigidbody)
    other.rigidbody.AddForce(0, 2, 0);
}</code></pre></div>
</div>
<p>Or we can get to any component attached to the   same game object as the collider.</p>
<p>或者我们可以通过collider得到这个物体的任何组件.</p>
<div class="wrap">
    <ul class="tabs">
        <li><a href="#">C#</a></li>
        <li><a href="#">JavaScript</a></li>
    </ul>
    <div class="panes"><pre><code>using UnityEngine;
using System.Collections;

public class example : <a href="../MonoBehaviour/MonoBehaviour.html">MonoBehaviour</a> {
void OnTriggerStay(Collider other) {
    if (other.GetComponent&lt;OtherScript&gt;())
        other.GetComponent&lt;OtherScript&gt;().DoSomething();

    }
}</code></pre></div>
    <div class="panes"><pre><code>function OnTriggerStay( other : Collider ) {
    <span class="notes">// If the other collider has a OtherScript attached
    // call DoSomething on it.
    // Most of the time colliders won't have this script attached,
    // so we need to check first to avoid null reference exceptions.
    // 如果其他的碰撞体附加了OtherScript 
    // 调用他的DoSomething.
    // 一般碰撞体没有附脚本,
    // 所以我们需要首先检查是否为null.</span>

    if (other.GetComponent(OtherScript))
    other.GetComponent(OtherScript).DoSomething();
}</code></pre></div>
</div>
<p>Note that by suffixing the other variable in the   above example, you can access any component inside the colliding object. </p>
<p>注意, 在上面的例子中使用后缀的方式访问其他变量.同样,你能访问到碰撞对象包含的任意组件。</p>
<p><em>5. All scripts of one Type </em><em>某个类型的脚本</em></p>
<p>Find any object of one class or script name using <a href="../Object/Object.FindObjectsOfType.html">Object.FindObjectsOfType </a>or find the   first object of one type using <a href="../Object/Object.FindObjectOfType.html">Object.FindObjectOfType </a>.</p>
<p>找到某个类型的对象或脚本可以用 <a href="../Object/Object.FindObjectsOfType.html">Object.FindObjectsOfType </a>或获得某个类型的第一个对象使用 <a href="../Object/Object.FindObjectOfType.html">Object.FindObjectOfType </a>.</p>
<div class="wrap">
    <ul class="tabs">
        <li><a href="#">C#</a></li>
        <li><a href="#">JavaScript</a></li>
    </ul>
    <div class="panes"><pre><code>using UnityEngine;
using System.Collections;

public class example : <a href="../MonoBehaviour/MonoBehaviour.html">MonoBehaviour</a> {
    void Start() {
        OtherScript other = FindObjectOfType(typeof(OtherScript));
        other.DoSomething();
    }
}</code></pre></div>
    <div class="panes"><pre><code>function Start () {
    <span class="notes">// Find the OtherScript which is attached to any game object in the scene.
    // 获得附加在场景里的游戏对象的OtherScript</span>

    var other : OtherScript = FindObjectOfType(OtherScript);
    other.DoSomething();
}</code></pre></div>
</div>
<div class="date"><span>最后修改：<!-- #BeginDate format:wfcCh2m -->2011年5月16日 Monday  21:51<!-- #EndDate --></span></div>    <script type="text/javascript"><!--
google_ad_client = "ca-pub-8054246454688368";
/* Unity横 */
google_ad_slot = "2374072180";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="">
</script>
<!--right end--></div>
    <div class="clear"></div>
</div>

<div style="padding: 30px; text-align: center; clear:both"><p>本脚本参考基于Unity 3.30f4</p>英文部分版权属&copy;<a href="http://unity3d.com/">Unity</a>公司所有，中文部分&copy;
<a href="http://3d.ceeger.com/">Unity圣典</a> 版权所有，未经许可，严禁转载 。</div>
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fce93455bb2ae8f76d8b4a8d07db27a24' type='text/javascript'%3E%3C/script%3E"));
</script>


</body>
</html>
