<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; " />
<title>Physics.CapsuleCast 胶囊投射</title>
<meta name="Keywords" content="unity,Physics,CapsuleCast,胶囊投射" />
<meta name="Description" content="对场景中的碰撞体进行胶囊的投射，如果相交，返回碰撞体的raycasthit信息。" />
<link href="../Style/CSS/UnityStyle.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="../Style/SJ/jquery.min.js"></script>
<script type="text/javascript" src="../Style/SJ/tabs.min.js"></script>
  <script type="text/javascript">
$(function() {
	$("ul.tabs").tabs("> .panes", {initialIndex: 1});
});
</script>

</head>

<body>
<div class="head">
<div class="logo"><a href="/Script"><img src="../Style/Images/unitylogo.png" alt="Unity圣典" width="350" height="80"  title="Unity圣典"/></a></div>
<div class="menu"><a href="/">首页</a><a href="/Script">Unity脚本</a></div>
</div>

<div class="mainbody">
<div class="leftmain">
    	        <ul class="scriptmenu">
          <li><a href="../index.html">Overview</a> <span class="trans">概述</span></li>
            <li><a href="../Runtime.Classes.html">Runtime Classes</a> <span class="trans">实时运行类</span></li>
            <ul>
                <li><a href="../Attributes/Attributes.html">Attributes</a> <span class="trans">属性</span></li>
                <li><a href="../Enumerations/Enumerations.html">Enumerations</a> <span class="trans">枚举</span></li>
            </ul>
            <li><a href="../Editor.Classes.html">Editor Classes</a> <span class="trans">编辑器类</span></li>
            <ul>
                <li><a href="../Editor_Enumerations/Editor.Enumerations.html">Enumerations</a> <span class="trans">枚举</span></li>
            </ul>
            <li>History <span class="trans">历史</span></li>
            <li><a href="../index.Classes.html">Index</a> <span class="trans">总索引</span></li>
        </ul>
<script type="text/javascript"><!--
google_ad_client = "ca-pub-8054246454688368";
/* Unity方 */
google_ad_slot = "5047319569";
google_ad_width = 200;
google_ad_height = 200;
//-->
</script>
<script type="text/javascript"
src="">
</script>
        <div class="subclass"><a href="Physics.html">Physics</a><span class="trans">物理学</span><span class="transer">翻译：詹姆斯卡梅隆</span>
                <ul>
                    <li><a href="Physics.bounceThreshold.html">bounceThreshold</a></li>
                    <li><a href="Physics.CapsuleCastAll.html">CapsuleCastAll</a></li>
                    <li><a href="Physics.CapsuleCast.html">CapsuleCast</a></li>
                    <li><a href="Physics.CheckCapsule.html">CheckCapsule</a></li>
                    <li><a href="Physics.CheckSphere.html">CheckSphere</a></li>
                    <li><a href="Physics.GetIgnoreLayerCollision.html">GetIgnoreLayerCollision</a></li>
                    <li><a href="Physics.gravity.html">gravity</a></li>
                    <li><a href="Physics.IgnoreCollision.html">IgnoreCollision</a></li>
                    <li><a href="Physics.IgnoreLayerCollision.html">IgnoreLayerCollision</a></li>
                    <li><a href="Physics.Linecast.html">Linecast</a></li>
                    <li><a href="Physics.maxAngularVelocity.html">maxAngularVelocity</a></li>
                    <li><a href="Physics.minPenetrationForPenalty.html">minPenetrationForPenalty</a></li>
                    <li><a href="Physics.OverlapSphere.html">OverlapSphere</a></li>
                    <li><a href="Physics.RaycastAll.html">RaycastAll</a></li>
                    <li><a href="Physics.Raycast.html">Raycast</a></li>
                    <li><a href="Physics.sleepAngularVelocity.html">sleepAngularVelocity</a></li>
                    <li><a href="Physics.sleepVelocity.html">sleepVelocity</a></li>
                    <li><a href="Physics.solverIterationCount.html">solverIterationCount</a></li>
                    <li><a href="Physics.SphereCastAll.html">SphereCastAll</a></li>
                    <li><a href="Physics.SphereCast.html">SphereCast</a></li>
                </ul>
</div>
    </div>
    <div class="rightmain"><!--right start--><script type="text/javascript"><!--
google_ad_client = "ca-pub-8054246454688368";
/* Unity横 */
google_ad_slot = "2374072180";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="">
</script>
<h1><a href="Physics.html">Physics</a>.CapsuleCast 胶囊投射</h1>
<p class="h1inherit"></p>
<p>static function <em>CapsuleCast</em> (<em>point1</em> : <a href="../Vector3/Vector3.html">Vector3</a>, <em>point2</em> : <a href="../Vector3/Vector3.html">Vector3</a>, <em>radius</em> : float, <em>direction</em> : <a href="../Vector3/Vector3.html">Vector3</a>, <em>distance</em> : float = <a href="../Mathf/Mathf.Infinity.html">Mathf.Infinity</a>, <em>layerMask</em> : int = kDefaultRaycastLayers) : bool<br />
static function <em>CapsuleCast</em> (<em>point1</em> : <a href="../Vector3/Vector3.html">Vector3</a>, <em>point2</em> : <a href="../Vector3/Vector3.html">Vector3</a>, <em>radius</em> : float, <em>direction</em> : <a href="../Vector3/Vector3.html">Vector3</a>, <em>out hitInfo</em> : <a href="../RaycastHit/RaycastHit.html">RaycastHit</a>, <em>distance</em> : float = <a href="../Mathf/Mathf.Infinity.html">Mathf.Infinity</a>, <em>layerMask</em> : int = kDefaultRaycastLayers) : bool </p>
<h3>Parameters<span class="trans">参数</span></h3>
<ul class="tableli">
    <li>
      <div class="lititle"><em>point1</em></div>
    	<div class="licontent">The start of the capsule.<br />
    	胶囊的起点</div>
    </li>
    <li>
      <div class="lititle"><em>point2</em></div>
    	<div class="licontent">The end of the capsule.<br />
    	胶囊的结束点</div>
    </li>
    <li>
      <div class="lititle"><em>radius</em></div>
    	<div class="licontent">The radius of the capsule.<br />
    	胶囊的半径</div>
    </li>
    <li>
      <div class="lititle"><em>direction</em></div>
    	<div class="licontent">The direction into which to sweep the capsule.<br />
    	胶囊扫描的方向</div>
    </li>
    <li>
      <div class="lititle"><em>hitInfo</em></div>
    	<div class="licontent">If true is returned, hitInfo will contain more information about where the collider was hit (See Also: RaycastHit).<br />如果交互到碰撞体，返回碰撞体的信息。
    	</div>
    </li>
    <li>
      <div class="lititle"><em>distance</em></div>
    	<div class="licontent">The length of the sweep<br />
    	扫描的长度</div>
    </li>
    <li>
      <div class="lititle"><em>layerMask</em></div>
    	<div class="licontent">A Layer mask that is used to selectively ignore colliders when casting a capsule. <br />根据Layer mask层的不同来忽略碰撞体。
    	</div>
    </li>
</ul>
	
<em>Returns</em>
<p>bool - True when the capsule sweep intersects any collider, otherwise false.</p>
<p>当胶囊投射时与碰撞体交叉时，返回真，否则返回假。</p>
<p><em>Description</em><span class="trans">描述</span></p>
<p> Casts a capsule against all colliders in the scene and returns detailed information on what was hit.</p>
<p>对场景中的碰撞体进行胶囊的投射，如果相交，返回碰撞体的raycasthit信息。</p>
<p> The capsule is defined by the two spheres with radius around point1 and point2, which form the two ends of the capsule.  Hits are returned for the first collider which would collide against this capsule if the capsule was moved along direction.  This is useful when a Raycast does not give enough precision, because you want to find out if an object of a specific size,  such as a character, will be able to move somewhere without colliding with anything on the way. </p>
<p>胶囊的描述：point1&nbsp;，point2为上下两个结束点，radius为半径。对胶囊做投射时，如果和碰撞体碰撞，raycasthit&nbsp;结构返回碰撞信息。这可以用在光线投射无法满足要求时的情况下。例如要判断角色（有空间大小尺寸）是否和一个物体发生碰撞。</p>
<p> 参见：<a href="Physics.SphereCast.html">Physics.SphereCast</a>, <a href="Physics.CapsuleCastAll.html">Physics.CapsuleCastAll</a>, <a href="Physics.Raycast.html">Physics.Raycast</a>, <a href="Rigidbody.SweepTest.html">Rigidbody.SweepTest</a></p>
<div class="wrap">
	<ul class="tabs">
		<li><a href="#">C#</a></li>
		<li><a href="#">JavaScript</a></li>
	</ul>
    <div class="panes">
      <pre><code>using UnityEngine;
using System.Collections;

public class example : <a href="../MonoBehaviour/MonoBehaviour.html">MonoBehaviour</a> {
	void Update() {
		<a href="../RaycastHit/RaycastHit.html">RaycastHit</a> hit;
		<a href="../CharacterController/CharacterController.html">CharacterController</a> charContr = GetComponent&lt;<a href="../CharacterController/CharacterController.html">CharacterController</a>&gt;();
		<a href="../Vector3/Vector3.html">Vector3</a> p1 = transform.position + charContr.center + Vector3.up * -charContr.height * 0.5F;
		<a href="../Vector3/Vector3.html">Vector3</a> p2 = p1 + <a href="../Vector3/Vector3.up.html">Vector3.up</a> * charContr.height;
		if (Physics.CapsuleCast(p1, p2, charContr.radius, transform.forward, out hit, 10))
			distanceToObstacle = hit.distance;

	}
}</code></pre></div>
    <div class="panes">
      <pre><code>function Update () {
	var hit : <a href="../RaycastHit/RaycastHit.html">RaycastHit</a>;
	var charContr : <a href="../CharacterController/CharacterController.html">CharacterController</a> = GetComponent(<a href="../CharacterController/CharacterController.html">CharacterController</a>);
	var p1 : <a href="../Vector3/Vector3.html">Vector3</a> = transform.position + charContr.center +
	<a href="../Vector3/Vector3.up.html">Vector3.up</a> * (-charContr.height*0.5);
	var p2 : <a href="../Vector3/Vector3.html">Vector3</a> = p1 + <a href="../Vector3/Vector3.up.html">Vector3.up</a> * charContr.height;
	<span class="notes">// Cast character controller shape 10 meters forward, to see if it is about to hit anything
	//向前投射角色物体10米，是否与其他物体碰撞</span>
	if (Physics.CapsuleCast (p1, p2, charContr.radius, transform.forward, hit, 10)) {
		distanceToObstacle = hit.distance;
	}
}</code></pre></div>
</div>
<div class="date"><span>最后修改：<!-- #BeginDate format:wfcCh2m -->2011年4月9日 Saturday  12:10<!-- #EndDate --></span></div><script type="text/javascript"><!--
google_ad_client = "ca-pub-8054246454688368";
/* Unity横 */
google_ad_slot = "2374072180";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="">
</script>
<!--right end--></div>
    <div class="clear"></div>
</div>

<div style="padding: 30px; text-align: center; clear:both"><p>本脚本参考基于Unity 3.30f4</p>英文部分版权属&copy;<a href="http://unity3d.com/">Unity</a>公司所有，中文部分&copy;
<a href="http://3d.ceeger.com/">Unity圣典</a> 版权所有，未经许可，严禁转载 。</div>
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fce93455bb2ae8f76d8b4a8d07db27a24' type='text/javascript'%3E%3C/script%3E"));
</script>

</body>
</html>
