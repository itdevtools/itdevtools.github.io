<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; " />
<title>Material.SetMatrix 设置矩阵</title>
<meta name="Keywords" content="unity,Material,材质,SetMatrix,设置矩阵" />
<meta name="Description" content="为这个shader设置一个命名矩阵" />
<link href="../Style/CSS/UnityStyle.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="../Style/SJ/jquery.min.js"></script>
<script type="text/javascript" src="../Style/SJ/tabs.min.js"></script>
  <script type="text/javascript">
$(function() {
	$("ul.tabs").tabs("> .panes", {initialIndex: 1});
});
</script>

</head>

<body>
<div class="head">
<div class="logo"><a href="/Script"><img src="../Style/Images/unitylogo.png" alt="Unity圣典" width="350" height="80"  title="Unity圣典"/></a></div>
<div class="menu"><a href="/">首页</a><a href="/Script">Unity脚本</a></div>
</div>

<div class="mainbody">    <div class="leftmain">
    	        <ul class="scriptmenu">
          <li><a href="../index.html">Overview</a> <span class="trans">概述</span></li>
            <li><a href="../Runtime.Classes.html">Runtime Classes</a> <span class="trans">实时运行类</span></li>
            <ul>
                <li><a href="../Attributes/Attributes.html">Attributes</a> <span class="trans">属性</span></li>
                <li><a href="../Enumerations/Enumerations.html">Enumerations</a> <span class="trans">枚举</span></li>
            </ul>
            <li><a href="../Editor.Classes.html">Editor Classes</a> <span class="trans">编辑器类</span></li>
            <ul>
                <li><a href="../Editor_Enumerations/Editor.Enumerations.html">Enumerations</a> <span class="trans">枚举</span></li>
            </ul>
            <li>History <span class="trans">历史</span></li>
            <li><a href="../index.Classes.html">Index</a> <span class="trans">总索引</span></li>
        </ul>
<script type="text/javascript"><!--
google_ad_client = "ca-pub-8054246454688368";
/* Unity方 */
google_ad_slot = "5047319569";
google_ad_width = 200;
google_ad_height = 200;
//-->
</script>
<script type="text/javascript"
src="">
</script>
        <div class="subclass"><a href="Material.html">Material</a><span class="trans">材质</span> <span class="transer">翻译：titan-志广</span>
                <ul>
                    <li><a href="Material.color.html">color</a></li>
                    <li><a href="Material.CopyPropertiesFromMaterial.html">CopyPropertiesFromMaterial</a></li>
                    <li><a href="Material.GetColor.html">GetColor</a></li>
                    <li><a href="Material.GetFloat.html">GetFloat</a></li>
                    <li><a href="Material.GetMatrix.html">GetMatrix</a></li>
                    <li><a href="Material.GetTag.html">GetTag</a></li>
                    <li><a href="Material.GetTextureOffset.html">GetTextureOffset</a></li>
                    <li><a href="Material.GetTextureScale.html">GetTextureScale</a></li>
                    <li><a href="Material.GetTexture.html">GetTexture</a></li>
                    <li><a href="Material.GetVector.html">GetVector</a></li>
                    <li><a href="Material.HasProperty.html">HasProperty</a></li>
                    <li><a href="Material.Lerp.html">Lerp</a></li>
                    <li><a href="Material.mainTextureOffset.html">mainTextureOffset</a></li>
                    <li><a href="Material.mainTextureScale.html">mainTextureScale</a></li>
                    <li><a href="Material.mainTexture.html">mainTexture</a></li>
                    <li><a href="Material.Material.html">Material</a></li>
                    <li><a href="Material.passCount.html">passCount</a></li>
                    <li><a href="Material.renderQueue.html">renderQueue</a></li>
                    <li><a href="Material.SetColor.html">SetColor</a></li>
                    <li><a href="Material.SetFloat.html">SetFloat</a></li>
                    <li><a href="Material.SetMatrix.html">SetMatrix</a></li>
                    <li><a href="Material.SetPass.html">SetPass</a></li>
                    <li><a href="Material.SetTextureOffset.html">SetTextureOffset</a></li>
                    <li><a href="Material.SetTextureScale.html">SetTextureScale</a></li>
                    <li><a href="Material.SetTexture.html">SetTexture</a></li>
                    <li><a href="Material.SetVector.html">SetVector</a></li>
                    <li><a href="Material.shader.html">shader</a></li>
                </ul>
</div>
    </div>
    <div class="rightmain"><!--right start--><script type="text/javascript"><!--
google_ad_client = "ca-pub-8054246454688368";
/* Unity横 */
google_ad_slot = "2374072180";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="">
</script>
<h1><a href="Material.html">Material</a>.SetMatrix 设置矩阵</h1>
<p class="h1inherit"></p>
<p>function <em>SetMatrix</em> (<em>propertyName</em> : string, <em>matrix</em> : <a href="../Matrix4x4/Matrix4x4.html">Matrix4x4</a>) : void </p>
<p><em>Description</em><span class="trans">描述</span></p>
<p>Set a named matrix for the shader.</p>
<p>为这个shader设置一个命名矩阵</p>
<p>This is mostly used with custom shaders that need   extra matrix parameters. Matrix parameters are not exposed in the material   inspector, but can be set and queried with SetMatrix and GetMatrix from   scripts.</p>
<p>这主要是与需要额外的矩阵参数的自定义着色器一起使用的。矩阵参数不会将其公开在材质的检视面板中，但可以在脚本中通过SetMatrix 和 GetMatrix设置和查询。</p>
<p>参见： <a href="Material.GetMatrix.html">GetMatrix </a>, <a href="../Materials/Materials.html">Materials</a></p>
<div class="note"><pre><code>var rotateSpeed = 30;
var texture : <a href="../Texture/Texture.html">Texture</a> ;

function Start() {
	<span class="notes">// Create a new material with a shader
	//使用shader创建 一个新的材质
	// that rotates the texture. Texture rotation
	//旋转纹理
	// is performed with a _Rotation matrix.
	//执行_Rotation 矩阵</span>


	var m : Material = new Material (
	&quot; Shader \&quot;Rotating <a href="../Texture/Texture.html">Texture</a> \&quot; {&quot; +
	&quot;Properties { _MainTex (\&quot;Base\&quot;, 2D) = \&quot;white\&quot; {} }&quot; +
	&quot;SubShader {&quot; +
	&quot;    Pass {&quot; +
	&quot;      Material { Diffuse (1,1,1,0) Ambient (1,1,1,0) }&quot; +
	&quot;      Lighting On&quot; +
	&quot;      SetTexture [_MainTex] {&quot; +
	&quot;         matrix [_Rotation]&quot; +
	&quot;         combine texture * primary double, texture&quot; +
	&quot;      }&quot; +
	&quot;    }&quot; +
	&quot;}&quot; +
	&quot;}&quot;
	);
	m.mainTexture = texture;
	renderer.material = m;
}

function Update() {
	<span class="notes">// Construct a rotation matrix and set it for the shader
	// 构建旋转矩阵，并将其设置为着色器</span>
	
	var rot = <a href="../Quaternion/Quaternion.Euler.html">Quaternion.Euler</a> (0, 0, <a href="../Time/Time.time.html">Time.time</a> * rotateSpeed);
	var m = <a href="../Matrix4x4/Matrix4x4.TRS.html">Matrix4x4.TRS</a> ( <a href="../Vector3/Vector3.zero.html">Vector3.zero</a> , rot, <a href="../Vector3/Vector3.html">Vector3</a> (1,1,1) );
	renderer.material.SetMatrix (&quot;_Rotation&quot;, m);
}</code></pre></div>
<div class="date"><span>最后修改：<!-- #BeginDate format:wfcCh2m -->2011年1月22日 Saturday  21:18<!-- #EndDate --></span></div><script type="text/javascript"><!--
google_ad_client = "ca-pub-8054246454688368";
/* Unity横 */
google_ad_slot = "2374072180";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="">
</script>
<!--right end--></div>
    <div class="clear"></div>
</div>

<div style="padding: 30px; text-align: center; clear:both"><p>本脚本参考基于Unity 3.30f4</p>英文部分版权属&copy;<a href="http://unity3d.com/">Unity</a>公司所有，中文部分&copy;
<a href="http://3d.ceeger.com/">Unity圣典</a> 版权所有，未经许可，严禁转载 。</div>
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fce93455bb2ae8f76d8b4a8d07db27a24' type='text/javascript'%3E%3C/script%3E"));
</script>
</body>
</html>
