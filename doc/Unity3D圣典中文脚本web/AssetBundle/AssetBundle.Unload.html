<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; " />
<title>AssetBundle.Unload 卸载</title>
<meta name="Keywords" content="unity,AssetBundle,Unload,卸载" />
<meta name="Description" content="卸载所有包含在bundle中的对象。" />
<link href="../Style/CSS/UnityStyle.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="../Style/SJ/jquery.min.js"></script>
<script type="text/javascript" src="../Style/SJ/tabs.min.js"></script>
  <script type="text/javascript">
$(function() {
	$("ul.tabs").tabs("> .panes", {initialIndex: 1});
});
</script>

</head>

<body>
<div class="head">
<div class="logo"><a href="/Script"><img src="../Style/Images/unitylogo.png" alt="Unity圣典" width="350" height="80"  title="Unity圣典"/></a></div>
<div class="menu"><a href="/">首页</a><a href="/Script">Unity脚本</a></div>
</div>

<div class="mainbody">
    <div class="leftmain">
    	        <ul class="scriptmenu">
          <li><a href="../index.html">Overview</a> <span class="trans">概述</span></li>
            <li><a href="../Runtime.Classes.html">Runtime Classes</a> <span class="trans">实时运行类</span></li>
            <ul>
                <li><a href="../Attributes/Attributes.html">Attributes</a> <span class="trans">属性</span></li>
                <li><a href="../Enumerations/Enumerations.html">Enumerations</a> <span class="trans">枚举</span></li>
            </ul>
            <li><a href="../Editor.Classes.html">Editor Classes</a> <span class="trans">编辑器类</span></li>
            <ul>
                <li><a href="../Editor_Enumerations/Editor.Enumerations.html">Enumerations</a> <span class="trans">枚举</span></li>
            </ul>
            <li>History <span class="trans">历史</span></li>
            <li><a href="../index.Classes.html">Index</a> <span class="trans">总索引</span></li>
        </ul>
<script type="text/javascript"><!--
google_ad_client = "ca-pub-8054246454688368";
/* Unity方 */
google_ad_slot = "5047319569";
google_ad_width = 200;
google_ad_height = 200;
//-->
</script>
<script type="text/javascript"
src="">
</script>
        <div class="subclass"><a href="AssetBundle.html">AssetBundle</a><span class="transer">翻译： rfinal  </span>
                <ul>
                    <li><a href="AssetBundle.Contains.html">Contains</a></li>
                    <li><a href="AssetBundle.LoadAll.html">LoadAll</a></li>
                    <li><a href="AssetBundle.LoadAsync.html">LoadAsync</a></li>
                    <li><a href="AssetBundle.Load.html">Load</a></li>
                    <li><a href="AssetBundle.mainAsset.html">mainAsset</a></li>
                    <li><a href="AssetBundle.Unload.html">Unload</a></li>
                </ul>
            </div>
    </div>
    <div class="rightmain"><!--right start--><script type="text/javascript"><!--
google_ad_client = "ca-pub-8054246454688368";
/* Unity横 */
google_ad_slot = "2374072180";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="">
</script>
<h1><a href="ssetBundle.html">AssetBundle</a>.Unload 卸载</h1>
<p class="h1inherit"></p>
<p>function <em>Unload</em> (<em>unloadAllLoadedObjects</em> : bool) : void </p>
<p><em>Description</em><span class="trans">描述</span></p>
<p>Unloads all assets in the bundle.</p>
<p>卸载所有包含在bundle中的对象。</p>
<p>Unload frees all the memory associated with the   objects inside the bundle. </p>
<p>When unloadAllLoadedObjects is false, compressed   file data for assets inside the bundle will be unloaded, but any actual objects   already loaded from this bundle will be kept intact. Of course you won't be able   to load any more objects from this bundle. </p>
<p>When unloadAllLoadedObjects is true, all objects   that were loaded from this bundle will be destroyed as well. If there are game   objects in your scene referencing those assets, the references to them will   become missing.</p>
<p>卸载释放bundle中所有序列化数据。当unloadAllLoaderObjects为假，bundle内的序列化数据将被释放，但是任何从这个bundle中实例化的物体都将完好。当然，你不能从这个bundle中加载更多物体。当unloadAllLoaderObjects为真，所有从该bundle中加载的物体也将被销毁。如果场景中有游戏物体引用该资源，那么引用也会丢失。</p>
<blockquote>
    <p>引用至jesse_luzexi的博客：</p>
    <p>这是U3D没有处理好的一个环节。在WWW加载资源完毕后，对资源进行instantiate后，对其资源进行unload,这时问题就发生  了，instantiate处理渲染需要一定的时间，虽然很短，但也是需要1，2帧的时间。此时进行unload会对资源渲染造成影响，以至于没有贴图或  者等等问题发生。</p>
    <p>解决办法：<br />
    自己写个时间等待代码，最好不要用WaitForSeconds，U3D的API，这个东西很撮，恶心死我了。。。<br />
    我估计它这个类写的有问题，检查了好长时间，最后还是自己写了几行代码来替换这个类，解决了问题。<br />
    等待个0.5秒到1秒之后再进行Unload。这样就不会出现instantiate渲染中就运行unload的情况了。</p>
</blockquote>
<div class="date"><span>最后修改：<!-- #BeginDate format:wfcCh2m -->2010年12月15日 Wednesday  17:49<!-- #EndDate --></span></div><script type="text/javascript"><!--
google_ad_client = "ca-pub-8054246454688368";
/* Unity横 */
google_ad_slot = "2374072180";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="">
</script>
<!--right end--></div>
    <div class="clear"></div>
</div>

<div style="padding: 30px; text-align: center; clear:both"><p>本脚本参考基于Unity 3.30f4</p>英文部分版权属&copy;<a href="http://unity3d.com/">Unity</a>公司所有，中文部分&copy;
<a href="http://3d.ceeger.com/">Unity圣典</a> 版权所有，未经许可，严禁转载 。</div>
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fce93455bb2ae8f76d8b4a8d07db27a24' type='text/javascript'%3E%3C/script%3E"));
</script>
</body>
</html>
