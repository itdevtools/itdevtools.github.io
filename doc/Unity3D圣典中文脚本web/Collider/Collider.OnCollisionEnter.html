<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; " />
<title>Collider.OnCollisionEnter 进入碰撞</title>
<meta name="Keywords" content="unity,Collider,OnCollisionEnter,进入碰撞" />
<meta name="Description" content="当collider/rigidbody开始触动另一个rigidbody/collider时OnCollisionEnter被调用。" />
<link href="../Style/CSS/UnityStyle.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="../Style/SJ/jquery.min.js"></script>
<script type="text/javascript" src="../Style/SJ/tabs.min.js"></script>
  <script type="text/javascript">
$(function() {
	$("ul.tabs").tabs("> .panes", {initialIndex: 1});
});
</script>

</head>

<body>
<div class="head">
<div class="logo"><a href="/Script"><img src="../Style/Images/unitylogo.png" alt="Unity圣典" width="350" height="80"  title="Unity圣典"/></a></div>
<div class="menu"><a href="/">首页</a><a href="/Script">Unity脚本</a></div>
</div>

<div class="mainbody">
    <div class="leftmain">
    	        <ul class="scriptmenu">
          <li><a href="../index.html">Overview</a> <span class="trans">概述</span></li>
            <li><a href="../Runtime.Classes.html">Runtime Classes</a> <span class="trans">实时运行类</span></li>
            <ul>
                <li><a href="../Attributes/Attributes.html">Attributes</a> <span class="trans">属性</span></li>
                <li><a href="../Enumerations/Enumerations.html">Enumerations</a> <span class="trans">枚举</span></li>
            </ul>
            <li><a href="../Editor.Classes.html">Editor Classes</a> <span class="trans">编辑器类</span></li>
            <ul>
                <li><a href="../Editor_Enumerations/Editor.Enumerations.html">Enumerations</a> <span class="trans">枚举</span></li>
            </ul>
            <li>History <span class="trans">历史</span></li>
            <li><a href="../index.Classes.html">Index</a> <span class="trans">总索引</span></li>
        </ul>
<script type="text/javascript"><!--
google_ad_client = "ca-pub-8054246454688368";
/* Unity方 */
google_ad_slot = "5047319569";
google_ad_width = 200;
google_ad_height = 200;
//-->
</script>
<script type="text/javascript"
src="">
</script>
        <div class="subclass"><a href="Collider.html">Collider</a> <span class="transer">翻译：U_鹰 </span>
                <ul>
                    <li><a href="Collider.attachedRigidbody.html">attachedRigidbody</a></li>
                    <li><a href="Collider.bounds.html">bounds</a></li>
                    <li><a href="Collider.ClosestPointOnBounds.html">ClosestPointOnBounds</a></li>
                    <li><a href="Collider.isTrigger.html">isTrigger</a></li>
                    <li><a href="Collider.material.html">material</a></li>
                    <li><a href="Collider.OnCollisionEnter.html">OnCollisionEnter</a></li>
                    <li><a href="Collider.OnCollisionExit.html">OnCollisionExit</a></li>
                    <li><a href="Collider.OnCollisionStay.html">OnCollisionStay</a></li>
                    <li><a href="Collider.OnTriggerEnter.html">OnTriggerEnter</a></li>
                    <li><a href="Collider.OnTriggerExit.html">OnTriggerExit</a></li>
                    <li><a href="Collider.OnTriggerStay.html">OnTriggerStay</a></li>
                    <li><a href="Collider.Raycast.html">Raycast</a></li>
                    <li><a href="Collider.sharedMaterial.html">sharedMaterial</a></li>
                </ul>
            </div>
    </div>
    <div class="rightmain"><!--right start--><script type="text/javascript"><!--
google_ad_client = "ca-pub-8054246454688368";
/* Unity横 */
google_ad_slot = "2374072180";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="">
</script>
<h1><a href="Collider.html">Collider</a>.OnCollisionEnter 进入碰撞</h1>
<p></p>
<p>function <em>OnCollisionEnter</em> (<em>collisionInfo</em> : <a href="../Collision/Collision.html">Collision</a>) : void </p>

<p><em>Description</em><span class="trans">描述</span></p>
<p> OnCollisionEnter is called when this collider/rigidbody has begun touching another rigidbody/collider.</p>
<p>当collider/rigidbody开始触动另一个rigidbody/collider时OnCollisionEnter被调用。</p>
<p> In contrast to OnTriggerEnter, OnCollisionEnter is passed the <a href="../Collision/Collision.html">Collision</a> class and not a Collider.  The <a href="../Collision/Collision.html">Collision</a> class contains information about contact points, impact velocity etc.  If you don't use collisionInfo in the function, leave out the collisionInfo parameter as this avoids unneccessary calculations.  Note that collision events are only sent if one of the colliders also has a non-kinematic rigidbody attached. </p>
<p>相比OnTriggerEnter，OnCollisionEnter传递<a href="../Collision/Collision.html">Collision</a>类而不是Collider。<a href="../Collision/Collision.html">Collision</a>类包含接触点，碰撞速度等信息。在这个函数如果你不使用collisionInfo，删去collisionInfo参数以避免不必要的计算。注意，如果碰撞器附加一个非动力学刚体，也仅发送碰撞事件。</p>

<div class="wrap">
	<ul class="tabs">
		<li><a href="#">C#</a></li>
		<li><a href="#">JavaScript</a></li>
	</ul>
    <div class="panes"><pre><code>using UnityEngine;
using System.Collections;

public class example : <a href="../MonoBehaviour/MonoBehaviour.html">MonoBehaviour</a> {
	void OnCollisionEnter(Collision collision) {
			foreach (ContactPoint contact in collision.contacts) {
			Debug.DrawRay(contact.point, contact.normal, Color.white);
		}
		if (collision.relativeVelocity.magnitude &gt; 2)
			audio.Play();

	}
}</code></pre></div>
    <div class="panes"><pre><code>function OnCollisionEnter(collision : Collision) {
	<span class="notes">// Debug-draw all contact points and normals
	//调试绘制全部的接触点和法线</span>
	for (var contact : ContactPoint in collision.contacts) {
		Debug.DrawRay(contact.point, contact.normal, Color.white);
	}

	<span class="notes">// Play a sound if the coliding objects had a big impact.
	//如果碰撞物体有一个更大的撞击就播放声音</span>
	if (collision.relativeVelocity.magnitude &gt; 2)
		audio.Play();
}</code></pre></div>
</div>
另一个例子: 
<div class="wrap">
	<ul class="tabs">
		<li><a href="#">C#</a></li>
		<li><a href="#">JavaScript</a></li>
	</ul>
    <div class="panes"><pre><code>using UnityEngine;
using System.Collections;

public class example : <a href="../MonoBehaviour/MonoBehaviour.html">MonoBehaviour</a> {
	public <a href="../Transform/Transform.html">Transform</a> explosionPrefab;
	void OnCollisionEnter(Collision collision) {
		ContactPoint contact = collision.contacts[0];
		Quaternion rot = Quaternion.FromToRotation(Vector3.up, contact.normal);
		Vector3 pos = contact.point;
		Instantiate(explosionPrefab, pos, rot);
		Destroy(gameObject);
	}
}</code></pre></div>
    <div class="panes"><pre><code><span class="notes">// A grenade
//一个手榴弹
// - instantiates a explosion prefab when hitting a surface
//当撞击表面时实例化一个爆炸预设
// - then destroys itself
//然后销毁它们</span>
var explosionPrefab : <a href="../Transform/Transform.html">Transform</a>;

function OnCollisionEnter(collision : Collision) {
	<span class="notes">// Rotate the object so that the y-axis faces along the normal of the surface
	//旋转物体，以便y轴方向沿着表面的法线</span>
	var contact : ContactPoint = collision.contacts[0];
	var rot : Quaternion = Quaternion.FromToRotation(Vector3.up, contact.normal);
	var pos : <a href="../Vector3/Vector3.html">Vector3</a> = contact.point;
	Instantiate(explosionPrefab, pos, rot);
	<span class="notes">// Destroy the projectile
	//销毁物体</span>
	Destroy (gameObject);
}</code></pre></div>
</div>
<div class="date"><span>最后修改：<!-- #BeginDate format:wfcCh2m -->2010年12月12日 Sunday  16:40<!-- #EndDate --></span></div><script type="text/javascript"><!--
google_ad_client = "ca-pub-8054246454688368";
/* Unity横 */
google_ad_slot = "2374072180";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="">
</script>
<!--right end--></div>
    <div class="clear"></div>
</div>

<div style="padding: 30px; text-align: center; clear:both"><p>本脚本参考基于Unity 3.30f4</p>英文部分版权属&copy;<a href="http://unity3d.com/">Unity</a>公司所有，中文部分&copy;
<a href="http://3d.ceeger.com/">Unity圣典</a> 版权所有，未经许可，严禁转载 。</div>
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fce93455bb2ae8f76d8b4a8d07db27a24' type='text/javascript'%3E%3C/script%3E"));
</script>
</body>
</html>
