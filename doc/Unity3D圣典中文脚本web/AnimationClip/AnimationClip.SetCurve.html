<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; " />
<title>AnimationClip.SetCurve 设置曲线</title>
<meta name="Keywords" content="unity,AnimationClip,动画剪辑,SetCurve,设置曲线" />
<meta name="Description" content="给动画指定曲线一个特殊的属性。" />
<link href="../Style/CSS/UnityStyle.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="../Style/SJ/jquery.min.js"></script>
<script type="text/javascript" src="../Style/SJ/tabs.min.js"></script>
  <script type="text/javascript">
$(function() {
	$("ul.tabs").tabs("> .panes", {initialIndex: 1});
});
</script>

</head>

<body>
<div class="head">
<div class="logo"><a href="/Script"><img src="../Style/Images/unitylogo.png" alt="Unity圣典" width="350" height="80"  title="Unity圣典"/></a></div>
<div class="menu"><a href="/">首页</a><a href="/Script">Unity脚本</a></div>
</div>

<div class="mainbody">    <div class="leftmain">
    	        <ul class="scriptmenu">
          <li><a href="../index.html">Overview</a> <span class="trans">概述</span></li>
            <li><a href="../Runtime.Classes.html">Runtime Classes</a> <span class="trans">实时运行类</span></li>
            <ul>
                <li><a href="../Attributes/Attributes.html">Attributes</a> <span class="trans">属性</span></li>
                <li><a href="../Enumerations/Enumerations.html">Enumerations</a> <span class="trans">枚举</span></li>
            </ul>
            <li><a href="../Editor.Classes.html">Editor Classes</a> <span class="trans">编辑器类</span></li>
            <ul>
                <li><a href="../Editor_Enumerations/Editor.Enumerations.html">Enumerations</a> <span class="trans">枚举</span></li>
            </ul>
            <li>History <span class="trans">历史</span></li>
            <li><a href="../index.Classes.html">Index</a> <span class="trans">总索引</span></li>
        </ul>
<script type="text/javascript"><!--
google_ad_client = "ca-pub-8054246454688368";
/* Unity方 */
google_ad_slot = "5047319569";
google_ad_width = 200;
google_ad_height = 200;
//-->
</script>
<script type="text/javascript"
src="">
</script>
        <div class="subclass"><a href="AnimationClip.html">AnimationClip</a> <span class="transer">翻译：U_鹰 </span>
                <ul>
                    <li><a href="AnimationClip.AddEvent.html">AddEvent</a></li>
                    <li><a href="AnimationClip.AnimationClip.html">AnimationClip</a></li>
                    <li><a href="AnimationClip.ClearCurves.html">ClearCurves</a></li>
                    <li><a href="AnimationClip.frameRate.html">frameRate</a></li>
                    <li><a href="AnimationClip.length.html">length</a></li>
                    <li><a href="AnimationClip.SetCurve.html">SetCurve</a></li>
                    <li><a href="AnimationClip.wrapMode.html">wrapMode</a></li>
                </ul>
            </div>
    </div>
    <div class="rightmain"><!--right start--><script type="text/javascript"><!--
google_ad_client = "ca-pub-8054246454688368";
/* Unity横 */
google_ad_slot = "2374072180";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="">
</script>
<h1><a href="AnimationClip.html">AnimationClip</a>.SetCurve 设置曲线</h1>
<p class="h1inherit"></p>
<p>function <em>SetCurve</em> (<em>relativePath</em> : string, <em>type</em> : Type, <em>propertyName</em> : string, <em>curve</em> : <a href="../AnimationCurve/AnimationCurve.html">AnimationCurve</a>) : void </p>
<h3>Parameters<span class="trans">参数</span></h3>
<ul class="tableli">
    <li><div class="lititle"><em>relativePath</em></div>
    	<div class="licontent">The path to the game object this curve applies to. relativePath is formatted similar to a pathname, e.g. &quot;root/spine/leftArm&quot;. If relativePath is empty it refers to the game object the animation clip is attached to.<br />
    	应用给该曲线的游戏物体的路径。<span id="result_box" lang="zh-CN" xml:lang="zh-CN"><span title="">relativePath被格式化类似路径</span></span>，如&quot;root/spine/leftArm&quot;。如果relativePath为空，表示动画剪辑附加的游戏物体。</div>
    </li>
    <li><div class="lititle"><em>type</em></div>
    	<div class="licontent">The class type of the component that is animated<br />
    	被动画的组件的类类型</div>
    </li>
    <li><div class="lititle"><em>propertyName</em></div>
    	<div class="licontent">The name or path to the property being animated<br />
    	被动画的属性的名字或路径</div>
    </li>
    <li><div class="lititle"><em>curve</em></div>
    	<div class="licontent">The animation curve //动画曲线</div>
    </li>
</ul>

<p><em>Description</em><span class="trans">描述</span></p>
<p> Assigns the curve to animate a specific property.</p>
<p>给动画指定曲线一个特殊的属性。</p>
<p> If curve is null the curve will be removed. If a curve already exists  for that property, it will be replaced. </p>
<p>如果曲线为null，曲线将被移除，如果曲线属性已经存在，曲线将被替换。</p>
<p>通常的名称是: &quot;localPosition.x&quot;, &quot;localPosition.y&quot;, &quot;localPosition.z&quot;,  &quot;localRotation.x&quot;, &quot;localRotation.y&quot;, &quot;localRotation.z&quot;, &quot;localRotation.w&quot;  &quot;localScale.x&quot;, &quot;localScale.y&quot;, &quot;localScale.z&quot;. </p>
<p> For performance reasons <a href="../Transform/Transform.html">Transform</a> position, rotation and scale can only be animated as one property. </p>
<p>出于性能原因，Transform的position, rotation和scale 只能被动画作为一个属性。</p>
<div class="wrap">
	<ul class="tabs">
		<li><a href="#">C#</a></li>
		<li><a href="#">JavaScript</a></li>
	</ul>
    <div class="panes"><pre><code>using UnityEngine;
using System.Collections;

public class example : <a href="../MonoBehaviour/MonoBehaviour.html">MonoBehaviour</a> {
	void Start() {
		AnimationCurve curve = AnimationCurve.Linear(0, 1, 2, 3);
		AnimationClip clip = new AnimationClip();
		clip.SetCurve(&quot;&quot;, typeof(Transform), &quot;localPosition.x&quot;, curve);
		animation.AddClip(clip, &quot;test&quot;);
		animation.Play(&quot;test&quot;);
	}
}</code></pre></div>
    <div class="panes"><pre><code><span class="notes">// Animates the x coordinate of a transform position
//动画transform位置的x轴坐标</span>

function Start () {
	<span class="notes">// Create the curve
	//创建曲线</span>
	var curve : AnimationCurve = AnimationCurve.Linear(0, 1, 2, 3);

	<span class="notes">// Create the clip with the curve
	//创建曲线的剪辑</span>
	var clip : AnimationClip = new AnimationClip();
	clip.SetCurve(&quot;&quot;, Transform, &quot;localPosition.x&quot;, curve);

	<span class="notes">// Add and play the clip
	//点击并播放剪辑</span>
	animation.AddClip(clip, &quot;test&quot;);
	animation.Play(&quot;test&quot;);
}
@script RequireComponent(Animation)</code></pre></div>
</div>
<p> <a href="../Material/Material.html">Material</a> properties can be animated using the property name exported in the shader.  Common property names are: &quot;_MainTex&quot;, &quot;_BumpMap&quot;, &quot;_Color&quot;, &quot;_SpecColor&quot;, &quot;_Emission&quot;.  How to animate different material property types: </p>
<p><a href="../Material/Material.html">Material</a>材质属性可以动画，使用shader导出的属性名字。通常的名称是: &quot;_MainTex&quot;, &quot;_BumpMap&quot;, &quot;_Color&quot;, &quot;_SpecColor&quot;, &quot;_Emission&quot;.如何动画不懂财政属性类型：</p>
<div>
  <pre>        Float属性： &quot;PropertyName&quot;  		
        Vector4 属性： &quot;PropertyName.x&quot;, &quot;PropertyName.y&quot;, &quot;PropertyName.z&quot;, &quot;PropertyName.w&quot;
        Color 属性： &quot;PropertyName.r&quot;, &quot;PropertyName.g&quot;, &quot;PropertyName.b&quot;, &quot;PropertyName.a&quot;
        UV 旋转属性：&quot;PropertyName.rotation&quot;
        UV 偏移和缩放： &quot;PropertyName.offset.x&quot;, &quot;PropertyName.offset.y&quot;, &quot;PropertyName.scale.x&quot;, &quot;PropertyName.scale.y&quot;
        对于在同一renderer的多个索引材质，你能想这样添加前缀：&quot;[1]._MainTex.offset.y&quot;
  </pre>
</div>
<p>另见: <a href="AnimationClip.ClearCurves.html">ClearCurves</a> 函数, <a href="../AnimationCurve/AnimationCurve.html">AnimationCurve</a> 类.</p>
<div class="wrap">
	<ul class="tabs">
		<li><a href="#">C#</a></li>
		<li><a href="#">JavaScript</a></li>
	</ul>
    <div class="panes"><pre><code>using UnityEngine;
using System.Collections;

public class example : <a href="../MonoBehaviour/MonoBehaviour.html">MonoBehaviour</a> {
	void Start() {
		AnimationClip clip = new AnimationClip();
		clip.SetCurve(&quot;&quot;, typeof(Material), &quot;_Color.a&quot;, new AnimationCurve(new Keyframe(0, 0, 0, 0), new Keyframe(1, 1, 0, 0)));
		clip.SetCurve(&quot;&quot;, typeof(Material), &quot;_MainTex.offset.x&quot;, AnimationCurve.Linear(0, 1, 2, 3));
		animation.AddClip(clip, clip.name);
		animation.Play(clip.name);
	}
}</code></pre></div>
    <div class="panes"><pre><code><span class="notes">// Animate color's alpha and main texture's horizontal offset.
//动画颜色的通道和主要纹理的水平偏移</span>
function Start () {
	var clip = new AnimationClip ();
	clip.SetCurve (&quot;&quot;, Material, &quot;_Color.a&quot;,	AnimationCurve (Keyframe(0, 0, 0, 0), Keyframe(1, 1, 0, 0)));	
	clip.SetCurve (&quot;&quot;, Material, &quot;_MainTex.offset.x&quot;,	AnimationCurve.Linear(0, 1, 2, 3));
	animation.AddClip (clip, clip.name);
	animation.Play(clip.name);
}
@script RequireComponent(Animation) </code></pre></div>
</div>
<div class="date"><span>最后修改：<!-- #BeginDate format:wfcCh2m -->2011年5月3日 Tuesday  8:33<!-- #EndDate --></span></div><script type="text/javascript"><!--
google_ad_client = "ca-pub-8054246454688368";
/* Unity横 */
google_ad_slot = "2374072180";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="">
</script>
<!--right end--></div>
    <div class="clear"></div>
</div>

<div style="padding: 30px; text-align: center; clear:both"><p>本脚本参考基于Unity 3.30f4</p>英文部分版权属&copy;<a href="http://unity3d.com/">Unity</a>公司所有，中文部分&copy;
<a href="http://3d.ceeger.com/">Unity圣典</a> 版权所有，未经许可，严禁转载 。</div>
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fce93455bb2ae8f76d8b4a8d07db27a24' type='text/javascript'%3E%3C/script%3E"));
</script>
</body>
</html>
