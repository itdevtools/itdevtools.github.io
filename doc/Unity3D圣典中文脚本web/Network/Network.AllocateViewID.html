<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; " />
<title>Network.AllocateViewID 分配网络视图ID</title>
<meta name="Keywords" content="unity,Network,AllocateViewID,分配网络视图ID" />
<meta name="Description" content="查询下一个可用的网络视图ID号并分配它（保留）。" />
<link href="../Style/CSS/UnityStyle.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="../Style/SJ/jquery.min.js"></script>
<script type="text/javascript" src="../Style/SJ/tabs.min.js"></script>
  <script type="text/javascript">
$(function() {
	$("ul.tabs").tabs("> .panes", {initialIndex: 1});
});
</script>

</head>

<body>
<div class="head">
<div class="logo"><a href="/Script"><img src="../Style/Images/unitylogo.png" alt="Unity圣典" width="350" height="80"  title="Unity圣典"/></a></div>
<div class="menu"><a href="/">首页</a><a href="/Script">Unity脚本</a></div>
</div>

<div class="mainbody">
<div class="leftmain">
    	        <ul class="scriptmenu">
          <li><a href="../index.html">Overview</a> <span class="trans">概述</span></li>
            <li><a href="../Runtime.Classes.html">Runtime Classes</a> <span class="trans">实时运行类</span></li>
            <ul>
                <li><a href="../Attributes/Attributes.html">Attributes</a> <span class="trans">属性</span></li>
                <li><a href="../Enumerations/Enumerations.html">Enumerations</a> <span class="trans">枚举</span></li>
            </ul>
            <li><a href="../Editor.Classes.html">Editor Classes</a> <span class="trans">编辑器类</span></li>
            <ul>
                <li><a href="../Editor_Enumerations/Editor.Enumerations.html">Enumerations</a> <span class="trans">枚举</span></li>
            </ul>
            <li>History <span class="trans">历史</span></li>
            <li><a href="../index.Classes.html">Index</a> <span class="trans">总索引</span></li>
        </ul>
<script type="text/javascript"><!--
google_ad_client = "ca-pub-8054246454688368";
/* Unity方 */
google_ad_slot = "5047319569";
google_ad_width = 200;
google_ad_height = 200;
//-->
</script>
<script type="text/javascript"
src="">
</script>
        <div class="subclass"><a href="Network.html">Network</a><span class="transer">翻译：U_鹰 </span>
                <ul>
                    <li><a href="Network.AllocateViewID.html">AllocateViewID</a></li>
                    <li><a href="Network.CloseConnection.html">CloseConnection</a></li>
                    <li><a href="Network.connections.html">connections</a></li>
                    <li><a href="Network.connectionTesterIP.html">connectionTesterIP</a></li>
                    <li><a href="Network.connectionTesterPort.html">connectionTesterPort</a></li>
                    <li><a href="Network.Connect.html">Connect</a></li>
                    <li><a href="Network.DestroyPlayerObjects.html">DestroyPlayerObjects</a></li>
                    <li><a href="Network.Destroy.html">Destroy</a></li>
                    <li><a href="Network.Disconnect.html">Disconnect</a></li>
                    <li><a href="Network.GetAveragePing.html">GetAveragePing</a></li>
                    <li><a href="Network.GetLastPing.html">GetLastPing</a></li>
                    <li><a href="Network.HavePublicAddress.html">HavePublicAddress</a></li>
                    <li><a href="Network.incomingPassword.html">incomingPassword</a></li>
                    <li><a href="Network.InitializeSecurity.html">InitializeSecurity</a></li>
                    <li><a href="Network.InitializeServer.html">InitializeServer</a></li>
                    <li><a href="Network.Instantiate.html">Instantiate</a></li>
                    <li><a href="Network.isClient.html">isClient</a></li>
                    <li><a href="Network.isMessageQueueRunning.html">isMessageQueueRunning</a></li>
                    <li><a href="Network.isServer.html">isServer</a></li>
                    <li><a href="Network.logLevel.html">logLevel</a></li>
                    <li><a href="Network.maxConnections.html">maxConnections</a></li>
                    <li><a href="Network.minimumAllocatableViewIDs.html">minimumAllocatableViewIDs</a></li>
                    <li><a href="Network.natFacilitatorIP.html">natFacilitatorIP</a></li>
                    <li><a href="Network.natFacilitatorPort.html">natFacilitatorPort</a></li>
                    <li><a href="Network.OnConnectedToServer.html">OnConnectedToServer</a></li>
                    <li><a href="Network.OnDisconnectedFromServer.html">OnDisconnectedFromServer</a></li>
                    <li><a href="Network.OnFailedToConnectToMasterServer.html" title="OnFailedToConnectToMasterServer">OnFailedToConnectToM...</a></li>
                    <li><a href="Network.OnFailedToConnect.html">OnFailedToConnect</a></li>
                    <li><a href="Network.OnNetworkInstantiate.html">OnNetworkInstantiate</a></li>
                    <li><a href="Network.OnPlayerConnected.html">OnPlayerConnected</a></li>
                    <li><a href="Network.OnPlayerDisconnected.html">OnPlayerDisconnected</a></li>
                    <li><a href="Network.OnSerializeNetworkView.html">OnSerializeNetworkView</a></li>
                    <li><a href="Network.OnServerInitialized.html">OnServerInitialized</a></li>
                    <li><a href="Network.peerType.html">peerType</a></li>
                    <li><a href="Network.player.html">player</a></li>
                    <li><a href="Network.proxyIP.html">proxyIP</a></li>
                    <li><a href="Network.proxyPassword.html">proxyPassword</a></li>
                    <li><a href="Network.proxyPort.html">proxyPort</a></li>
                    <li><a href="Network.RemoveRPCsInGroup.html">RemoveRPCsInGroup</a></li>
                    <li><a href="Network.RemoveRPCs.html">RemoveRPCs</a></li>
                    <li><a href="Network.sendRate.html">sendRate</a></li>
                    <li><a href="Network.SetLevelPrefix.html">SetLevelPrefix</a></li>
                    <li><a href="Network.SetReceivingEnabled.html">SetReceivingEnabled</a></li>
                    <li><a href="Network.SetSendingEnabled.html">SetSendingEnabled</a></li>
                    <li><a href="Network.TestConnectionNAT.html">TestConnectionNAT</a></li>
                    <li><a href="Network.TestConnection.html">TestConnection</a></li>
                    <li><a href="Network.time.html">time</a></li>
                    <li><a href="Network.useProxy.html">useProxy</a></li>
                </ul>
</div>
    </div>
    <div class="rightmain"><!--right start--><script type="text/javascript"><!--
google_ad_client = "ca-pub-8054246454688368";
/* Unity横 */
google_ad_slot = "2374072180";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="">
</script>
<h1><a href="Network.html">Network</a>.AllocateViewID 分配网络视图ID</h1>
<p class="h1inherit"></p>
<p>static function <em>AllocateViewID</em> () : <a href="../NetworkViewID/NetworkViewID.html">NetworkViewID</a></p>
<p><em>Description</em><span class="trans">描述</span></p>
<p> Query for the next available network view ID number and allocate it (reserve). </p>
<p>查询下一个可用的网络视图ID号并分配它（保留）。</p>
<p> This number can then be assigned to the network view of an instantiated object. The example below demonstrates a simple  method to do this. Note that for this to work there must be a <a href="../NetworkView/NetworkView.html">NetworkView</a> attached to the object which has this script  and it must have the script as its observed property. There must be a Cube prefab present also with a <a href="../NetworkView/NetworkView.html">NetworkView</a> which  watches something (like the <a href="../Transform/Transform.html">Transform</a> of the Cube). The cubePrefab variable in the script must be set to that cube prefab. This   is the simplest method of using AllocateViewID intelligently.  This get more complicated if there were more than one <a href="../NetworkView/NetworkView.html">NetworkView</a> attached to the Cube which is to be instantiated. </p>
<p>这个数字可以被分配到一个实例化物体的网络视图。下面的例子演示了一个简单的方法来做到这一点。注意，为了使其可正常工作，必须有一个NetworkView附加到有这个脚本的物体，并这个脚本作为它的观察属性。必须有一个Cube预设，带有一个NetworkView监视某些东西（如Cube的<a href="../Transform/Transform.html">Transform</a>）。脚本中的cubePrefab变量必须设置为cube预设。使用智能的AllocateViewID是最简单的方法。如果有超过一个NetworkView附加在初始化的Cube上着将变得更复杂。</p>
<div class="wrap">
	<ul class="tabs">
		<li><a href="#">C#</a></li>
		<li><a href="#">JavaScript</a></li>
	</ul>
    <div class="panes"><pre><code>using UnityEngine;
using System.Collections;

public class example : <a href="../MonoBehaviour/MonoBehaviour.html">MonoBehaviour</a> {
	public <a href="../Transform/Transform.html">Transform</a> cubePrefab;
	void OnGUI() {
		if (<a href="../GUILayout/GUILayout.Button.html">GUILayout.Button</a>(&quot;SpawnBox&quot;)) {
			<a href="../NetworkViewID/NetworkViewID.html">NetworkViewID</a> viewID = <a href="Network.AllocateViewID.html">Network.AllocateViewID</a>();
			networkView.<a href="../Attributes/RPC.html">RPC</a>(&quot;SpawnBox&quot;, <a href="../Enumerations/RPCMode/RPCMode.AllBuffered.html">RPCMode.AllBuffered</a>, viewID, transform.position);
		}
	}
	[<a href="../Attributes/RPC.html">RPC</a>]
	void SpawnBox(<a href="../NetworkViewID/NetworkViewID.html">NetworkViewID</a> viewID, <a href="../Vector3/Vector3.html">Vector3</a> location) {
		<a href="../Transform/Transform.html">Transform</a> clone;
		clone = Instantiate(cubePrefab, location, <a href="../Quaternion/Quaternion.identity.html">Quaternion.identity</a>) as <a href="../Transform/Transform.html">Transform</a>;
		<a href="../NetworkView/NetworkView.html">NetworkView</a> nView;
		nView = clone.GetComponent&lt;<a href="../NetworkView/NetworkView.html">NetworkView</a>&gt;();
		nView.viewID = viewID;
	}
}</code></pre></div>
    <div class="panes"><pre><code>var cubePrefab : <a href="../Transform/Transform.html">Transform</a>;
function OnGUI () {
	if (<a href="../GUILayout/GUILayout.Button.html">GUILayout.Button</a>(&quot;SpawnBox&quot;)) {
		var viewID = <a href="Network.AllocateViewID.html">Network.AllocateViewID</a>();
		networkView.<a href="../Attributes/RPC.html">RPC</a>(&quot;SpawnBox&quot;,
            <a href="../Enumerations/RPCMode/RPCMode.AllBuffered.html">RPCMode.AllBuffered</a>,
            viewID,
            transform.position);
	}
}

@<a href="../Attributes/RPC.html">RPC</a>
function SpawnBox (viewID : <a href="../NetworkViewID/NetworkViewID.html">NetworkViewID</a>, location : <a href="../Vector3/Vector3.html">Vector3</a>) {
	<span class="notes">// Instantate the prefab locally
	//实例化本地预设</span>
	var clone : <a href="../Transform/Transform.html">Transform</a>;
	clone = Instantiate(cubePrefab, location, <a href="../Quaternion/Quaternion.identity.html">Quaternion.identity</a>) as <a href="../Transform/Transform.html">Transform</a>;
	var nView : <a href="../NetworkView/NetworkView.html">NetworkView</a>;
	nView = clone.GetComponent(<a href="../NetworkView/NetworkView.html">NetworkView</a>);
	nView.viewID = viewID;
}</code></pre></div>
</div>
<div class="date"><span>最后修改：<!-- #BeginDate format:wfcCh2m -->2011年4月2日 Saturday  18:28<!-- #EndDate --></span></div><script type="text/javascript"><!--
google_ad_client = "ca-pub-8054246454688368";
/* Unity横 */
google_ad_slot = "2374072180";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="">
</script>
<!--right end--></div>
    <div class="clear"></div>
</div>

<div style="padding: 30px; text-align: center; clear:both"><p>本脚本参考基于Unity 3.30f4</p>英文部分版权属&copy;<a href="http://unity3d.com/">Unity</a>公司所有，中文部分&copy;
<a href="http://3d.ceeger.com/">Unity圣典</a> 版权所有，未经许可，严禁转载 。</div>
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fce93455bb2ae8f76d8b4a8d07db27a24' type='text/javascript'%3E%3C/script%3E"));
</script>

</body>
</html>
